<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>QR</title>
</head>

<body>
    <input id="url" style="width:70%" placeholder="https://your-url.here">
    <button id="go">Generate</button>
    <div id="out"></div>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script>
        document.getElementById('go').onclick = () => {
            const url = document.getElementById('url').value.trim();
            const out = document.getElementById('out');
            out.innerHTML = '';
            const canvas = document.createElement('canvas');
            out.appendChild(canvas);
            QRCode.toCanvas(canvas, url, { width: 400 }, err => { if (err) alert(err) });
            // add download link
            setTimeout(() => {
                const a = document.createElement('a');
                a.innerText = 'Download PNG';
                a.href = canvas.toDataURL('image/png');
                a.download = 'qr.png';
                out.appendChild(document.createElement('br'));
                out.appendChild(a);
            }, 300);
        }
    </script>
</body>

</html>
